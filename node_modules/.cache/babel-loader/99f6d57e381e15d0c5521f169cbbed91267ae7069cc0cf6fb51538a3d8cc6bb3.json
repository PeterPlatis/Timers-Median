{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";export function TimerWithMedian(){const[startTime,setStartTime]=useState(null);const[elapsed,setElapsed]=useState(0);const[running,setRunning]=useState(false);const[logs,setLogs]=useState([]);const[allDates,setAllDates]=useState([]);const[selectedDate,setSelectedDate]=useState(new Date().toISOString().split(\"T\")[0]);const todayKey=`logs-${selectedDate}`;useEffect(()=>{const keys=Object.keys(localStorage).filter(key=>key.startsWith(\"logs-\"));setAllDates(keys.map(key=>key.replace(\"logs-\",\"\")));},[]);useEffect(()=>{const saved=localStorage.getItem(todayKey);if(saved){setLogs(JSON.parse(saved));}else{setLogs([]);}},[todayKey]);useEffect(()=>{localStorage.setItem(todayKey,JSON.stringify(logs));if(!allDates.includes(selectedDate)){setAllDates([...allDates,selectedDate]);}},[logs,todayKey,allDates,selectedDate]);useEffect(()=>{let interval;if(running){interval=setInterval(()=>{setElapsed(Date.now()-startTime);},100);}return()=>clearInterval(interval);},[running,startTime]);const startTimer=()=>{setStartTime(Date.now()-elapsed);setRunning(true);};const stopTimer=()=>{setRunning(false);setLogs([...logs,elapsed]);setElapsed(0);};const resetLogs=()=>{setLogs([]);};const getMedian=()=>{if(logs.length===0)return 0;const sorted=[...logs].sort((a,b)=>a-b);const mid=Math.floor(sorted.length/2);return sorted.length%2!==0?sorted[mid]:(sorted[mid-1]+sorted[mid])/2;};const formatTime=ms=>{const seconds=Math.floor(ms/1000);const mins=Math.floor(seconds/60);const secs=seconds%60;const mills=ms%1000;return`${mins}:${secs.toString().padStart(2,\"0\")}.${mills}`;};return/*#__PURE__*/_jsxs(\"div\",{className:\"component p-6 max-w-md mx-auto bg-white rounded-2xl shadow-md space-y-4\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold\",children:[\"Timer for \",selectedDate]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"mr-2 font-semibold\",children:\"Select Day:\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedDate,onChange:e=>setSelectedDate(e.target.value),className:\"border p-2 rounded-xl\",children:allDates.map(date=>/*#__PURE__*/_jsx(\"option\",{value:date,children:date},date))})]}),selectedDate===new Date().toISOString().split(\"T\")[0]&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-mono\",children:formatTime(elapsed)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[!running?/*#__PURE__*/_jsx(\"button\",{onClick:startTimer,className:\"px-4 py-2 bg-green-500 text-white rounded-xl\",children:\"Start\"}):/*#__PURE__*/_jsx(\"button\",{onClick:stopTimer,className:\"px-4 py-2 bg-red-500 text-white rounded-xl\",children:\"Stop & Log\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetLogs,className:\"px-4 py-2 bg-gray-500 text-white rounded-xl\",children:\"Reset Logs\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Logs:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc list-inside\",children:logs.map((log,index)=>/*#__PURE__*/_jsx(\"li\",{children:formatTime(log)},index))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold\",children:\"Median of the Day:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-mono\",children:formatTime(getMedian())})]})]});}","map":{"version":3,"names":["React","useState","useEffect","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","TimerWithMedian","startTime","setStartTime","elapsed","setElapsed","running","setRunning","logs","setLogs","allDates","setAllDates","selectedDate","setSelectedDate","Date","toISOString","split","todayKey","keys","Object","localStorage","filter","key","startsWith","map","replace","saved","getItem","JSON","parse","setItem","stringify","includes","interval","setInterval","now","clearInterval","startTimer","stopTimer","resetLogs","getMedian","length","sorted","sort","a","b","mid","Math","floor","formatTime","ms","seconds","mins","secs","mills","toString","padStart","className","children","value","onChange","e","target","date","onClick","log","index"],"sources":["/Users/peterplatis/Documents/Timers-Median/src/components/TimerWithMedian.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nexport function TimerWithMedian() {\n    const [startTime, setStartTime] = useState(null);\n    const [elapsed, setElapsed] = useState(0);\n    const [running, setRunning] = useState(false);\n    const [logs, setLogs] = useState([]);\n    const [allDates, setAllDates] = useState([]);\n    const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split(\"T\")[0]);\n\n    const todayKey = `logs-${selectedDate}`;\n\n    useEffect(() => {\n        const keys = Object.keys(localStorage).filter(key => key.startsWith(\"logs-\"));\n        setAllDates(keys.map(key => key.replace(\"logs-\", \"\")));\n    }, []);\n\n    useEffect(() => {\n        const saved = localStorage.getItem(todayKey);\n        if (saved) {\n            setLogs(JSON.parse(saved));\n        } else {\n            setLogs([]);\n        }\n    }, [todayKey]);\n\n    useEffect(() => {\n        localStorage.setItem(todayKey, JSON.stringify(logs));\n        if (!allDates.includes(selectedDate)) {\n            setAllDates([...allDates, selectedDate]);\n        }\n    }, [logs, todayKey, allDates, selectedDate]);\n\n    useEffect(() => {\n        let interval;\n        if (running) {\n            interval = setInterval(() => {\n                setElapsed(Date.now() - startTime);\n            }, 100);\n        }\n        return () => clearInterval(interval);\n    }, [running, startTime]);\n\n    const startTimer = () => {\n        setStartTime(Date.now() - elapsed);\n        setRunning(true);\n    };\n\n    const stopTimer = () => {\n        setRunning(false);\n        setLogs([...logs, elapsed]);\n        setElapsed(0);\n    };\n\n    const resetLogs = () => {\n        setLogs([]);\n    };\n\n    const getMedian = () => {\n        if (logs.length === 0) return 0;\n        const sorted = [...logs].sort((a, b) => a - b);\n        const mid = Math.floor(sorted.length / 2);\n        return sorted.length % 2 !== 0\n            ? sorted[mid]\n            : (sorted[mid - 1] + sorted[mid]) / 2;\n    };\n\n    const formatTime = (ms) => {\n        const seconds = Math.floor(ms / 1000);\n        const mins = Math.floor(seconds / 60);\n        const secs = seconds % 60;\n        const mills = ms % 1000;\n        return `${mins}:${secs.toString().padStart(2, \"0\")}.${mills}`;\n    };\n\n    return (\n        <div className=\"component p-6 max-w-md mx-auto bg-white rounded-2xl shadow-md space-y-4\">\n            <h1 className=\"text-2xl font-bold\">Timer for {selectedDate}</h1>\n\n            <div className=\"mb-2\">\n                <label className=\"mr-2 font-semibold\">Select Day:</label>\n                <select\n                    value={selectedDate}\n                    onChange={(e) => setSelectedDate(e.target.value)}\n                    className=\"border p-2 rounded-xl\"\n                >\n                    {allDates.map((date) => (\n                        <option key={date} value={date}>\n                            {date}\n                        </option>\n                    ))}\n                </select>\n            </div>\n\n            {selectedDate === new Date().toISOString().split(\"T\")[0] && (\n                <>\n                    <div className=\"text-4xl font-mono\">{formatTime(elapsed)}</div>\n                    <div className=\"flex space-x-2\">\n                        {!running ? (\n                            <button\n                                onClick={startTimer}\n                                className=\"px-4 py-2 bg-green-500 text-white rounded-xl\"\n                            >\n                                Start\n                            </button>\n                        ) : (\n                            <button\n                                onClick={stopTimer}\n                                className=\"px-4 py-2 bg-red-500 text-white rounded-xl\"\n                            >\n                                Stop & Log\n                            </button>\n                        )}\n                        <button\n                            onClick={resetLogs}\n                            className=\"px-4 py-2 bg-gray-500 text-white rounded-xl\"\n                        >\n                            Reset Logs\n                        </button>\n                    </div>\n                </>\n            )}\n\n            <div>\n                <h2 className=\"text-xl font-semibold\">Logs:</h2>\n                <ul className=\"list-disc list-inside\">\n                    {logs.map((log, index) => (\n                        <li key={index}>{formatTime(log)}</li>\n                    ))}\n                </ul>\n            </div>\n\n            <div>\n                <h2 className=\"text-xl font-semibold\">Median of the Day:</h2>\n                <p className=\"text-lg font-mono\">{formatTime(getMedian())}</p>\n            </div>\n        </div>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}